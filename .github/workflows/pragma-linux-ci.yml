name: GameNetworkingSockets Test

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v2
        
    - name: Build Crashpad
      shell: bash
      run: |
        curDir=$(pwd)
        git clone https://chromium.googlesource.com/chromium/tools/depot_tools.git 
        sudo echo "export PATH=$curDir:$PATH" >> ~/.bashrc

        mkdir ~/crashpad
        cd ~/crashpad
        $curDir/fetch crashpad

        cd ~/crashpad/crashpad
        $curDir/gn gen out/Default

        ninja -C out/Default
